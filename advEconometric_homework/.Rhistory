rm(list=ls())
#library(openxlsx)
library(sqldf)
library(xlsx)
library(stringr)
library(splitstackshape)
filename<-"./advEconometric_homework_files/consumption_data.xlsx"
raw_data<-read.xlsx(filename,sheetName = 1,encoding = "UTF-8")
#获取列名
col_name<-names(raw_data)
#按“ ”符号分割表内数据
data<-cSplit(raw_data,col_name," ")
#View(data)
#重命令列名
names(data)<-c("OBS","year","quarter","YD","CE")
#View(data)
#y_q <- paste0(data$year,"-0",data$quarter)
#y_q <- as.character.Date(y_q)
log_c <- log(data$CE)
log_c_1 <- c()
log_c_1[2:200] <- log_c[1:199]
log_c_1[1] <- NA
log_y <- log(data$YD)
log_y_1 <- c()
log_y_1[2:200] <- log_y[1:199]
log_y_1[1] <- NA
data <- cbind(data,log_c)
data <- cbind(data,log_y)
data <- cbind(data,log_c_1)
data <- cbind(data,log_y_1)
delta_c <- c()
delta_y <- c()
delta_c[2:200] <- diff(log_c)
delta_c[1] <- NA
delta_y[2:200] <- diff(log_y)
delta_y[1] <- NA
data <- cbind(data,delta_c)
data <- cbind(data,delta_y)
View(data)
fit1 <- lm(log_c~log_c_1+log_y+log_y_1)
summary(fit1)
fit2 <- lm(delta_c~log_c_1+delta_y+log_y_1)
summary(fit2)
write.xlsx(data,"./advEconometric_homework_files/data_adjusted.xlsx")
write.xlsx(data,"./advEconometric_homework_files/data_adjusted.xlsx",row.names = F)
library(reshape2)
library(xlsx)
EDIN<-read.xlsx("C:\\Users\\Administrator\\Desktop\\EDIN.xlsx",header=T,1,encoding="UTF-8")
EDINEQ<-read.xlsx("C:\\Users\\Administrator\\Desktop\\EDINEQ.xlsx",header=T,1,encoding="UTF-8")
EDU<-read.xlsx("C:\\Users\\Administrator\\Desktop\\EDU.xlsx",header=T,1,encoding="UTF-8")
GR<-read.xlsx("C:\\Users\\Administrator\\Desktop\\GR.xlsx",header=T,1,encoding="UTF-8")
INCM<-read.xlsx("C:\\Users\\Administrator\\Desktop\\INCM.xlsx",header=T,1,encoding="UTF-8")
INEQ<-read.xlsx("C:\\Users\\Administrator\\Desktop\\INEQ.xlsx",header=T,1,encoding="UTF-8")
URBAN<-read.xlsx("C:\\Users\\Administrator\\Desktop\\URBAN.xlsx",header=T,1,encoding="UTF-8")
library(reshape2)
EDIN<-melt(EDIN,id.vars="年份",variable.name='省份',value.name='EDIN')
EDINEQ<-melt(EDINEQ,id.vars="年份",variable.name='省份',value.name='EDINEQ')
EDU<-melt(EDU,id.vars="年份",variable.name='省份',value.name='EDU')
GR<-melt(GR,id.vars="年份",variable.name='省份',value.name='GR')
INCM<-melt(INCM,id.vars="年份",variable.name='省份',value.name='INCM')
INEQ<-melt(INEQ,id.vars="年份",variable.name='省份',value.name='INEQ')
URBAN<-melt(URBAN,id.vars="年份",variable.name='省份',value.name='URBAN')
library(xlsx)
EDINEQ<-read.xlsx("C:\\Users\\Administrator\\Desktop\\EDINEQ.xlsx",header=T,1,encoding="UTF-8")
GR<-read.xlsx("C:\\Users\\Administrator\\Desktop\\GR.xlsx",header=T,1,encoding="UTF-8")
library(reshape2)
EDINEQ<-melt(EDINEQ,id.vars="年份",variable.name='省份',value.name='EDINEQ')
GR<-melt(GR,id.vars="年份",variable.name='省份',value.name='GR')
library(xlsx)
EDINEQ<-read.xlsx("C:\\Users\\heyouxin\\Desktop\\EDINEQ.xlsx",header=T,1,encoding="UTF-8")
GR<-read.xlsx("C:\\Users\\heyouxin\\Desktop\\GR.xlsx",header=T,1,encoding="UTF-8")
library(reshape2)
EDINEQ<-melt(EDINEQ,id.vars="年份",variable.name='省份',value.name='EDINEQ')
GR<-melt(GR,id.vars="年份",variable.name='省份',value.name='GR')
GR
EDINEQ
install.packages("reshape2")
library(reshape2)
EDINEQ<-melt(EDINEQ,id.vars="年份",variable.name='省份',value.name='EDINEQ')
GR<-melt(GR,id.vars="年份",variable.name='省份',value.name='GR')
library(reshape)
library(reshape2)
GR<-melt(GR,id.vars="年份",variable.name='省份',value.name='GR')
GR
library(data.table)
EDINEQ<-melt(EDINEQ,id.vars="年份",variable.name='省份',value.name='EDINEQ')
GR<-melt(GR,id.vars="年份",variable.name='省份',value.name='GR')
G
GR
library(reshape2)
EDINEQ <- melt.data.table(EDINEQ,id.vars="年份",variable.name='省份',value.name='EDINEQ')
library(data.table)
EDINEQ<-fread("C:\\Users\\heyouxin\\Desktop\\EDINEQ.xlsx",header=T,1,encoding="UTF-8")
GR<-melt(GR,id.vars="年份",variable.name='省份',value.name='GR')
EDINEQ<-melt(EDINEQ,na.rm=T,id.vars="年份",variable.name='省份',value.name='EDINEQ')
EDINEQ
EDINEQ<-melt.data.f(EDINEQ,id.vars="年份",variable.name='省份',value.name='EDINEQ2')
EDINEQ<-melt(EDINEQ,id.vars="年份",variable.name='省份',value.name='EDINEQ2')
EDINEQ
View(EDINEQ)
EDINEQ<-melt(EDINEQ,id.vars="年份",variable.name='省份',value.name='EDINEQ')
View(EDINEQ)
library(xlsx)
EDINEQ<-read.xlsx("C:\\Users\\heyouxin\\Desktop\\EDINEQ.xlsx",header=T,1,encoding="UTF-8")
GR<-read.xlsx("C:\\Users\\heyouxin\\Desktop\\GR.xlsx",header=T,1,encoding="UTF-8")
library(reshape2)
EDINEQ<-melt(EDINEQ,id.vars="年份",variable.name='省份',value.name='EDINEQ')
View(EDINEQ)
EDINEQ2<-melt(EDINEQ,id.vars="年份",variable.name='省份',value.name='EDINEQ')
View(EDINEQ2)
EDINEQ2<-melt(EDINEQ,id.vars="年份",variable.name="省份",value.name='EDINEQ')
View(EDINEQ2)
EDINEQ2<-melt(EDINEQ,id.vars="年份",measure.vars="省份",value.name='EDINEQ')
View(EDINEQ2)
library(xlsx)
EDINEQ<-read.xlsx("C:\\Users\\heyouxin\\Desktop\\EDINEQ.xlsx",header=T,1,encoding="UTF-8")
library(reshape2)
EDINEQ2<-melt(EDINEQ,id.vars="年份",variable.name="省份",value.name='EDINEQ')
View(EDINEQ2)
EDINEQ2<-melt(EDINEQ,id.vars="年份",variable.name="省份",value.name="EDINEQ")
View(EDINEQ2)
EDINEQ2<-melt(EDINEQ,id.vars='年份',variable.name='省份',value.name='EDINEQ')
View(EDINEQ2)
library(reshape2)
EDINEQ2<-melt(EDINEQ,id.vars='年份',variable.name='省份',value.name='EDINEQ')
View(EDINEQ2)
EDINEQ<-read.xlsx("C:\\Users\\heyouxin\\Desktop\\EDINEQ.xlsx",header=T,1,encoding="UTF-8")
library(reshape2)
EDINEQ2<-melt(EDINEQ,id.vars='年份',variable.name='省份',value.name='EDINEQ')
View(EDINEQ2)
EDINEQ2<-reshape2::melt(EDINEQ,id.vars='年份',variable.name='省份',value.name='EDINEQ')
View(EDINEQ2)
EDINEQ2<-reshape2::melt(EDINEQ,id.vars='年份',variable.name='sheng',value.name='EDINEQ')
View(EDINEQ2)
EDINEQ2<-reshape2::melt(EDINEQ,id.vars='年份',variable.name='省份',value.name='EDINEQ')
View(EDINEQ2)
library(xlsx)
EDINEQ<-read.xlsx("C:\\Users\\heyouxin\\Desktop\\EDINEQ.xlsx",header=T,1,encoding="UTF-8")
library(reshape2)
EDINEQ2<-reshape2::melt(EDINEQ,id.vars='年份')
View(EDINEQ2)
EDINEQ<-read.xlsx("C:\\Users\\heyouxin\\Desktop\\EDINEQ.xlsx",header=T,1)
library(reshape2)
EDINEQ2<-reshape2::melt(EDINEQ,id.vars='年份')
EDINEQ2<-reshape2::melt(EDINEQ,id.vars="年份")
EDINEQ<-read.xlsx("C:\\Users\\heyouxin\\Desktop\\EDINEQ.xlsx",header=T,1)
library(reshape2)
EDINEQ2<-reshape2::melt(EDINEQ,id.vars="年份")
EDINEQ<-read.xlsx("C:\\Users\\heyouxin\\Desktop\\EDINEQ.xlsx",header=T,1)
library(reshape2)
EDINEQ2<-melt(EDINEQ,id.vars="年份")
GR<-read.xlsx("C:\\Users\\heyouxin\\Desktop\\GR.xlsx",header=T,1,encoding="UTF-8")
GR<-melt(GR,id.vars="年份",variable.name='省份',value.name='GR')
View(GR)
GR<-melt(GR,id.vars="年份",variable.name='省份',value.name='GR')
View(GR)
GR<-read.xlsx("C:\\Users\\heyouxin\\Desktop\\GR.xlsx",header=T,1,encoding="UTF-8")
GR<-melt(GR,id.vars="年份",variable.name='省份',value.name='GR')
View(GR)
GR<-read.xlsx("C:\\Users\\heyouxin\\Desktop\\GR.xlsx",header=T,1,encoding="UTF-8")
View(GR)
GR[-20,]
View(GR)
GR <- GR[-20,]
View(EDINEQ2)
View(GR)
GR<-melt(GR,id.vars='年份',variable.name='省份',value.name='GR')
View(GR)
EDINEQ <- EDINEQ[-20,]
View(EDINEQ2)
View(EDINEQ)
EDINEQ<-read.xlsx("C:\\Users\\heyouxin\\Desktop\\EDINEQ.xlsx",header=T,1,encoding = "UTF-8")
EDINEQ <- EDINEQ[-20,]
EDINEQ<-melt(EDINEQ,id.vars='年份',variable.name='省份',value.name='EDINEQ')
View(EDINEQ)
subset(EDINEQ,4,5)
substr(EDINEQ,4,5)
substr(EDINEQ$省份,4,5)
EDINEQ$省份 <- substr(EDINEQ$省份,4,5)
View(EDINEQ)
install.packages("gcookbook")
EDINEQ<-read.xlsx("C:\\Users\\heyouxin\\Desktop\\EDINEQ.xlsx",header=T,1,encoding = "UTF-8")
EDINEQ
EDINEQ<-melt(EDINEQ,id.vars='年份',variable.name='省份',value.name='EDINEQ')
EDINEQ<-read.xlsx("C:\\Users\\heyouxin\\Desktop\\EDINEQ.xlsx",header=T,1,encoding = "UTF-8")
EDINEQ <- EDINEQ[-20,]
EDINEQ<-melt(EDINEQ,id.vars='年份',variable.name='省份',value.name='EDINEQ')
EDINEQ$省份 <- substr(EDINEQ$省份,4,5)
View(EDINEQ)
install.packages("quantmod")
install.packages("quantmod")
install.packages("quantmod")
install.packages("gcookbook")
rm(list=ls())
#library(openxlsx)
library(xlsx)
library(stringr)
library(splitstackshape)
filename<-"./advEconometric_homework_files/consumption_data.xlsx"
raw_data<-read.xlsx(filename,sheetName = 1,encoding = "UTF-8")
#获取列名
col_name<-names(raw_data)
#按“ ”符号分割表内数据
data<-cSplit(raw_data,col_name," ")
#View(data)
#重命令列名
names(data)<-c("OBS","year","quarter","YD","CE")
#View(data)
#y_q <- paste0(data$year,"-0",data$quarter)
#y_q <- as.character.Date(y_q)
log_c <- log(data$CE)
log_c_1 <- c()
log_c_1[2:200] <- log_c[1:199]
log_c_1[1] <- NA
log_y <- log(data$YD)
log_y_1 <- c()
log_y_1[2:200] <- log_y[1:199]
log_y_1[1] <- NA
data <- cbind(data,log_c)
data <- cbind(data,log_y)
data <- cbind(data,log_c_1)
data <- cbind(data,log_y_1)
delta_c <- c()
delta_y <- c()
delta_c[2:200] <- diff(log_c)
delta_c[1] <- NA
delta_y[2:200] <- diff(log_y)
delta_y[1] <- NA
data <- cbind(data,delta_c)
data <- cbind(data,delta_y)
View(data)
fit1 <- lm(log_c~log_c_1+log_y+delta_y)
summary(fit1)
fit2 <- lm(delta_c~log_c_1+delta_y+log_y_1)
summary(fit2)
#write.xlsx(data,"./advEconometric_homework_files/data_adjusted.xlsx",row.names = F)
View(data)
data_regression <- data[-1:24,]
data_regression <- data[-c(1:24),]
View(data_regression)
attach(data_regression)
fit1 <- lm(log_c~log_c_1+log_y+delta_y)
summary(fit1)
attach(data_regression)
fit1 <- lm(log_c~log_c_1+log_y+delta_y,data = data_regression)
summary(fit1)
fit2 <- lm(delta_c~log_c_1+delta_y+log_y_1)
summary(fit2)
fit3 <- lm(log_c~log_c_1+log_y+log_y_1)
summary(fit3)
summary(fit1)
time.pretr<-c(1:5)
time.tr<-c(6:10)
rm(list=ls())
rgrowth <- read.csv("growth.csv")
rgrowth_2 <- as.matrix(rgrowth)
library("Formula")
library("plm")
library("leaps")
library("pampe")
time.pretr<-c(1:5)
time.tr<-c(6:10)
treated<-"SOUTHAFRICA"
controls<-"KOREA, DENMARK,CANADA,FINLAND,NETHERLANDS,MEXICO,ITALY,IRELAND,SWITERLAND,GREECE"
summary(rgrowth)
econ.integ<-pampe(time.pretr = time.pretr,time.tr = time.tr,treated = treated, data = rgrowth)
time.pretr<-c("1975-Q1","1983-Q4")
time.tr<-c("1984-Q1","1994-Q4")
econ.integ<-pampe(time.pretr = time.pretr,time.tr = time.tr,treated = treated, data = rgrowth)
time.pretr<-c("1975-Q1","1979-Q4")
time.tr<-c("1984-Q1","1988-Q4")
econ.integ<-pampe(time.pretr = time.pretr,time.tr = time.tr,treated = treated, data = rgrowth)
View(rgrowth)
View(rgrowth)
econ.integ<-pampe(time.pretr = time.pretr,time.tr = time.tr,treated = treated, data = rgrowth)
econ.integ<-pampe(time.pretr = time.pretr,time.tr = time.tr,treated = treated, data = rgrowth)
econ.integ<-pampe(time.pretr = 1:5,time.tr = 6:10,treated = treated, data = rgrowth)
library(data.table)
filename<-"./advEconometric_homework_files/consumption_data.xlsx"
raw_data<-data.table(filename,sheetName = 1,encoding = "UTF-8")
raw_data
raw_data<-fread(filename,sheetName = 1,encoding = "UTF-8")
filename<-"./advEconometric_homework_files/consumption_data.xlsx"
raw_data<-fread(filename,sheetName = 1,encoding = "UTF-8")
raw_data<-fread(filename)
raw_data<-fread(filename)
filename<-"./advEconometric_homework_files/consumption_data.csv"
raw_data<-fread(filename)
raw_data
filename<-"./advEconometric_homework_files/consumption_data.csv"
raw_data<-fread(filename)
filename<-"./advEconometric_homework_files/consumption_data.csv"
raw_data<-fread(filename)
rm(list=ls())
#library(openxlsx)
library(xlsx)
library(stringr)
library(splitstackshape)
filename<-"./advEconometric_homework_files/demand_data.xlsx"
raw_data<-read.xlsx(filename,sheetName = 1,encoding = "UTF-8")
raw_data
col_name<-names(raw_data)
col_name
rm(list=ls())
#library(openxlsx)
library(xlsx)
library(stringr)
library(splitstackshape)
filename<-"./advEconometric_homework_files/demand_data.xlsx"
raw_data<-read.xlsx(filename,sheetName = 1,encoding = "UTF-8")
col_name<-names(raw_data)
col_name
raw_data
filename<-"./advEconometric_homework_files/demand_data.xlsx"
raw_data<-read.xlsx(filename,sheetName = 1,encoding = "UTF-8",header = F)
raw_data
col_name<-names(raw_data)
data<-cSplit(raw_data,col_name," ")
data
names(data)<-c("OBS","log_quan","log_price","X_2","X_3","X_4","X_5")
data
ols_fit <- lm(log_quan~X_2+X_3+log_price,data = data)
summary(los_fit)
summary(ols_fit)
write.xlsx(data,"./advEconometric_homework_files/demand_data_adjusted.xlsx",row.names = F)
rm(list=ls())
#library(openxlsx)
library(xlsx)
library(stringr)
library(splitstackshape)
filename<-"./advEconometric_homework_files/ar1.xlsx"
raw_data<-read.xlsx(filename,sheetName = 1,encoding = "UTF-8",header = F)
#获取列名
col_name<-names(raw_data)
#按“空格”符号分割表内数据
data<-cSplit(raw_data,col_name," ")
#View(data)
#重命令列名
names(data)<-c("OBS","x","y")
write.xlsx(data,"./advEconometric_homework_files/ar1_data_adjusted.xlsx",row.names = F)
